import{u as y,R as j,j as e,L as o,e as w}from"./index-D3jyxz5S.js";/* empty css             */import{F as a}from"./index-CcgLN9cm.js";import{s as c,I as t}from"./index-CY4Kamfr.js";import{T as P}from"./index-BE1rlUlE.js";import{C as b}from"./index-CZRYr7Ag.js";import{B as N}from"./button-CtJmIkB1.js";import"./TextArea-Q3gpJu61.js";import"./pickAttrs-CXQyGfOx.js";import"./EyeOutlined-pj_CrMc9.js";import"./CheckOutlined-Dmu6kb1T.js";import"./useBubbleLock-Bjm2feVM.js";const{Title:v,Text:k}=P;function S(){const[d]=a.useForm(),u=y(),[p,n]=j.useState(!1),[i,g]=c.useMessage(),h=async r=>{const l={name:r.name,email:r.email,phone:r.phone,password:r.password};try{n(!0);const s=await w(l);s?.success?(i.success("Registration successful! Please login."),u("/login")):s?.code===409?i.warning(s?.message||"Email or mobile already registered."):s&&s.success===!1?i.error(s?.message||"Registration failed. Try again."):i.error("Registration failed. Please try again.")}catch(s){const x=s?.response?.status,m=s?.response?.data?.message||s?.message||"Registration failed. Please try again.";x===409?i.warning(m):i.error(m)}finally{n(!1)}},f=()=>{c.warning("Please fix the errors in the form.")};return e.jsxs("div",{className:"auth-container",children:[g,e.jsxs("div",{className:"auth-box",children:[e.jsx(v,{level:2,className:"title",children:"Create your account"}),e.jsx(k,{type:"secondary",className:"subtitle",children:"Join Shantha Motors to manage bookings and more."}),e.jsxs(a,{form:d,layout:"vertical",onFinish:h,onFinishFailed:f,className:"auth-form",requiredMark:!1,children:[e.jsx(a.Item,{label:"Full Name",name:"name",rules:[{required:!0,message:"Name is required"},{min:2,message:"Please enter a valid name"}],children:e.jsx(t,{size:"large",placeholder:"Enter your full name",className:"input-field"})}),e.jsx(a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Email is required"},{type:"email",message:"Enter a valid email"}],children:e.jsx(t,{size:"large",type:"email",placeholder:"name@example.com",className:"input-field"})}),e.jsx(a.Item,{label:"Mobile Number",name:"phone",rules:[{required:!0,message:"Mobile number is required"},{pattern:/^[6-9]\d{9}$/,message:"Enter a valid 10-digit Indian number"}],children:e.jsx(t,{size:"large",placeholder:"9876543210",maxLength:10,className:"input-field"})}),e.jsx(a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Password is required"},{min:6,message:"At least 6 characters"}],hasFeedback:!0,children:e.jsx(t.Password,{size:"large",placeholder:"Create a password",className:"input-field"})}),e.jsx(a.Item,{label:"Confirm Password",name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password"},({getFieldValue:r})=>({validator(l,s){return!s||r("password")===s?Promise.resolve():Promise.reject(new Error("Passwords do not match"))}})],children:e.jsx(t.Password,{size:"large",placeholder:"Re-enter your password",className:"input-field"})}),e.jsx(a.Item,{name:"terms",valuePropName:"checked",rules:[{validator:(r,l)=>l?Promise.resolve():Promise.reject(new Error("Please accept Terms & Privacy"))}],children:e.jsxs(b,{children:["I agree to the ",e.jsx(o,{to:"/terms",className:"link",children:"Terms"})," and"," ",e.jsx(o,{to:"/privacy",className:"link",children:"Privacy Policy"}),"."]})}),e.jsx(N,{type:"primary",block:!0,size:"large",htmlType:"submit",className:"auth-button",loading:p,children:"Register"})]}),e.jsxs("p",{className:"switch-text",children:["Already a user? ",e.jsx(o,{to:"/login",className:"link-strong",children:"Login here"})]})]})]})}export{S as default};
